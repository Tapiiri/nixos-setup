#!/usr/bin/env -S python3
"""Executable entrypoint for `setup-links`.

The implementation lives in `scripts_py.setup_links` for unit testing.

This wrapper bootstraps sys.path so it works when symlinked/installed on $PATH
(and in "different cwd" situations).
"""

from __future__ import annotations

import sys


def _bootstrap() -> None:
    from pathlib import Path

    here = Path(__file__).resolve()
    sys.path.insert(0, str(here.parent.parent))

    from scripts_py.utils import RepoMarkers, bootstrap_repo_import_path

    bootstrap_repo_import_path(script_file=here, markers=RepoMarkers())


def main() -> int:
    _bootstrap()
    from scripts_py.setup_links import main as impl_main

    return int(impl_main(sys.argv[1:]))


if __name__ == "__main__":
    raise SystemExit(main())